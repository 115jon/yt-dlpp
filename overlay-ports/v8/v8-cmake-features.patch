diff --git a/.gitignore b/.gitignore
index e49def3..161dd1c 100644
--- a/.gitignore
+++ b/.gitignore
@@ -1,7 +1,9 @@
 .DS_Store
 /build/
+/build_component/
 cmake-build-debug/
 .idea/
+*.log
 
 # vs
 .vs/
diff --git a/CMakeLists.txt b/CMakeLists.txt
index 0b656a6..7cc5cef 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -3,6 +3,18 @@ set(CMAKE_USER_MAKE_RULES_OVERRIDE "${CMAKE_CURRENT_SOURCE_DIR}/cmake/MSVC.cmake
 set(CMAKE_DISABLE_IN_SOURCE_BUILD ON)
 project(V8 LANGUAGES CXX C ASM)
 
+
+if(MSVC)
+  add_compile_options(/bigobj)
+  foreach(lang C CXX)
+    string(REPLACE "/Z7" "/Zi" CMAKE_${lang}_FLAGS_DEBUG
+                   "${CMAKE_${lang}_FLAGS_DEBUG}")
+    if(NOT CMAKE_${lang}_FLAGS_DEBUG MATCHES "/Zi")
+      set(CMAKE_${lang}_FLAGS_DEBUG "${CMAKE_${lang}_FLAGS_DEBUG} /Zi")
+    endif()
+  endforeach()
+endif()
+
 if(MSVC)
   enable_language(ASM_MASM)
   set_property(
@@ -61,6 +73,9 @@ set(is-msvc $<CXX_COMPILER_ID:MSVC>)
 # FIXME obviously
 set(is-arm 0)
 set(is-arm64 0)
+if(CMAKE_SYSTEM_PROCESSOR MATCHES "arm64" OR CMAKE_SYSTEM_PROCESSOR MATCHES "aarch64")
+  set(is-arm64 1)
+endif()
 if (CMAKE_HOST_SYSTEM_PROCESSOR MATCHES "arm64" OR CMAKE_HOST_SYSTEM_PROCESSOR MATCHES "aarch64")
   set(is-arm64 1)
 endif ()
@@ -86,6 +101,21 @@ string(CONCAT is-x64 $<OR:
 option(V8_ENABLE_CONCURRENT_MARKING "Enable concurrent marking" ON)
 option(V8_ENABLE_I18N "Enable Internationalization support")
 
+option(V8_BUILD_SHARED "Build V8 as shared libraries" OFF)
+option(V8_MONOLITHIC "Build a single monolithic library, or components" ON)
+option(V8_BUILD_SAMPLES "Build sample executables (d8, shell, hello-world)" ON)
+
+if(V8_MONOLITHIC)
+    set(V8_COMPONENT_TYPE OBJECT)
+else()
+    if(V8_BUILD_SHARED)
+        set(V8_COMPONENT_TYPE SHARED)
+    else()
+        set(V8_COMPONENT_TYPE STATIC)
+    endif()
+endif()
+
+
 set(
   v8_defines
   $<${is-darwin}:V8_HAVE_TARGET_OS>
@@ -118,15 +148,12 @@ set(enable-exceptions
   $<$<CXX_COMPILER_ID:GNU>:-fexceptions>
 )
 
-set(enable-fpic
-  $<$<CXX_COMPILER_ID:AppleClang>:-fPIC>
-  $<$<CXX_COMPILER_ID:Clang>:-fPIC>
-  $<$<CXX_COMPILER_ID:GNU>:-fPIC>
-)
+set(CMAKE_POSITION_INDEPENDENT_CODE ON)
 
 #
-# d8
+# Sample executables (d8, shell, hello-world)
 #
+if(V8_BUILD_SAMPLES)
 
 add_executable(
   d8
@@ -142,26 +169,30 @@ add_executable(
 
 target_compile_definitions(d8 PRIVATE $<${is-msvc}:_HAS_EXCEPTIONS=0>)
 target_compile_options(d8 PRIVATE ${disable-exceptions})
-if(enable-fPIC)
-  target_compile_options(d8 PRIVATE ${enable-fpic})
-endif()
+
 
 target_include_directories(d8
   PUBLIC
     $<BUILD_INTERFACE:${PROJECT_SOURCE_DIR}/v8/include>
     $<INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}>
   PRIVATE
+    ${PROJECT_BINARY_DIR}
     $<BUILD_INTERFACE:${PROJECT_SOURCE_DIR}/v8>
 )
 
-target_link_libraries(d8
-  PRIVATE
-    v8_base_without_compiler
-    v8_compiler
-    v8_snapshot
-    v8_inspector
-    v8_libplatform
-)
+if(V8_BUILD_SHARED)
+  target_link_libraries(d8 PRIVATE v8 v8-bytecodes-builtin-list)
+else()
+  target_link_libraries(d8
+    PRIVATE
+      v8-bytecodes-builtin-list
+      v8_base_without_compiler
+      v8_compiler
+      v8_snapshot
+      v8_inspector
+      v8_libplatform
+  )
+endif()
 
 # add shell and hello-world
 add_executable(
@@ -175,7 +206,10 @@ target_include_directories(shell
         PRIVATE
         $<BUILD_INTERFACE:${PROJECT_SOURCE_DIR}/v8>
         )
-target_link_libraries(shell
+if(V8_BUILD_SHARED)
+  target_link_libraries(shell PRIVATE v8)
+else()
+  target_link_libraries(shell
         PRIVATE
         v8_base_without_compiler
         v8_compiler
@@ -183,6 +217,7 @@ target_link_libraries(shell
         v8_inspector
         v8_libplatform
         )
+endif()
 
 add_executable(
         hello-world
@@ -195,7 +230,10 @@ target_include_directories(hello-world
         PRIVATE
         $<BUILD_INTERFACE:${PROJECT_SOURCE_DIR}/v8>
         )
-target_link_libraries(hello-world
+if(V8_BUILD_SHARED)
+  target_link_libraries(hello-world PRIVATE v8)
+else()
+  target_link_libraries(hello-world
         PRIVATE
         v8_base_without_compiler
         v8_compiler
@@ -203,6 +241,8 @@ target_link_libraries(hello-world
         v8_inspector
         v8_libplatform
         )
+endif()
+endif() # V8_BUILD_SAMPLES
 
 # more granular library support
 add_library(v8-i18n-support OBJECT)
@@ -252,11 +292,13 @@ file(GLOB deoptimizer-sources RELATIVE ${PROJECT_SOURCE_DIR} CONFIGURE_DEPENDS v
 file(GLOB diagnostic-sources RELATIVE ${PROJECT_SOURCE_DIR} CONFIGURE_DEPENDS v8/src/diagnostics/*.cc)
 file(GLOB execution-sources RELATIVE ${PROJECT_SOURCE_DIR} CONFIGURE_DEPENDS v8/src/execution/*.cc)
 file(GLOB extensions-sources RELATIVE ${PROJECT_SOURCE_DIR} CONFIGURE_DEPENDS v8/src/extensions/*.cc)
+list(FILTER extensions-sources EXCLUDE REGEX "vtunedomain-support-extension.cc$")
 file(GLOB handles-sources RELATIVE ${PROJECT_SOURCE_DIR} CONFIGURE_DEPENDS v8/src/handles/*.cc)
 file(GLOB interpreter-sources RELATIVE ${PROJECT_SOURCE_DIR} CONFIGURE_DEPENDS v8/src/interpreter/*.cc)
 file(GLOB json-sources RELATIVE ${PROJECT_SOURCE_DIR} CONFIGURE_DEPENDS v8/src/json/*.cc)
 file(GLOB logging-sources RELATIVE ${PROJECT_SOURCE_DIR} CONFIGURE_DEPENDS v8/src/logging/*.cc)
-file(GLOB numbers-sources RELATIVE ${PROJECT_SOURCE_DIR} CONFIGURE_DEPENDS v8/src/base/numbers/*.cc v8/src/numbers/*.cc)
+file(GLOB numbers-sources RELATIVE ${PROJECT_SOURCE_DIR} CONFIGURE_DEPENDS v8/src/numbers/*.cc)
+file(GLOB base-numbers-sources RELATIVE ${PROJECT_SOURCE_DIR} CONFIGURE_DEPENDS v8/src/base/numbers/*.cc)
 file(GLOB object-sources RELATIVE ${PROJECT_SOURCE_DIR} CONFIGURE_DEPENDS v8/src/objects/*.cc)
 file(GLOB parsing-sources RELATIVE ${PROJECT_SOURCE_DIR} CONFIGURE_DEPENDS v8/src/parsing/*.cc)
 file(GLOB profiler-sources RELATIVE ${PROJECT_SOURCE_DIR} CONFIGURE_DEPENDS v8/src/profiler/*.cc)
@@ -269,6 +311,14 @@ file(GLOB wasm-sources RELATIVE ${PROJECT_SOURCE_DIR} CONFIGURE_DEPENDS v8/src/w
 file(GLOB wasm-baseline-sources RELATIVE ${PROJECT_SOURCE_DIR} CONFIGURE_DEPENDS v8/src/wasm/baseline/*.cc)
 file(GLOB zone-sources RELATIVE ${PROJECT_SOURCE_DIR} CONFIGURE_DEPENDS v8/src/zone/*.cc)
 file(GLOB zlib-sources RELATIVE ${PROJECT_SOURCE_DIR} CONFIGURE_DEPENDS v8/third_party/zlib/*.c v8/third_party/zlib/google/compression_utils_portable.cc)
+list(FILTER zlib-sources EXCLUDE REGEX "gz.*[.]c$")
+
+list(FILTER builtin-sources EXCLUDE REGEX "-gen.cc$")
+list(FILTER builtin-sources EXCLUDE REGEX "generate-bytecodes-builtins-list.cc$")
+list(FILTER interpreter-sources EXCLUDE REGEX "interpreter-generator.cc$")
+list(FILTER interpreter-sources EXCLUDE REGEX "interpreter-intrinsics-generator.cc$")
+list(FILTER interpreter-sources EXCLUDE REGEX "interpreter-assembler.cc$")
+list(FILTER deoptimizer-sources EXCLUDE REGEX "deoptimizer-cfi-.*[.]cc$")
 
 file(GLOB heap-sources RELATIVE ${PROJECT_SOURCE_DIR} CONFIGURE_DEPENDS
   v8/src/heap/*.cc
@@ -327,7 +377,18 @@ list(REMOVE_ITEM strings-sources v8/src/strings/char-predicates.cc)
 list(APPEND snapshot-sources v8/src/snapshot/embedded/embedded-data.cc)
 list(APPEND wasm-sources ${wasm-baseline-sources})
 
-add_library(v8_base_without_compiler STATIC
+file(GLOB debug-helper-sources RELATIVE ${PROJECT_SOURCE_DIR} CONFIGURE_DEPENDS v8/tools/debug_helper/*.cc)
+list(FILTER debug-helper-sources EXCLUDE REGEX "_test[.]cc$")
+
+add_custom_command(
+  OUTPUT ${PROJECT_BINARY_DIR}/heap-constants-gen.cc
+  COMMAND ${Python3_EXECUTABLE} ${PROJECT_SOURCE_DIR}/v8/tools/debug_helper/gen-heap-constants.py ${PROJECT_SOURCE_DIR}/v8/tools ${PROJECT_BINARY_DIR}/heap-constants-gen.cc
+  DEPENDS ${PROJECT_SOURCE_DIR}/v8/tools/debug_helper/gen-heap-constants.py ${PROJECT_SOURCE_DIR}/v8/tools/v8heapconst.py
+)
+list(APPEND debug-helper-sources ${PROJECT_BINARY_DIR}/heap-constants-gen.cc)
+
+add_library(v8_base_without_compiler OBJECT
+  ${debug-helper-sources}
   $<${is-posix}:v8/src/trap-handler/handler-inside-posix.cc>
   $<${is-posix}:v8/src/trap-handler/handler-outside-posix.cc>
   $<$<AND:${is-x64},${is-win}>:v8/src/diagnostics/unwinding-info-win64.cc>
@@ -344,6 +405,7 @@ add_library(v8_base_without_compiler STATIC
   $<${is-x64}:v8/src/deoptimizer/x64/deoptimizer-x64.cc>
   $<${is-x64}:v8/src/diagnostics/x64/disasm-x64.cc>
   $<${is-x64}:v8/src/diagnostics/x64/eh-frame-x64.cc>
+  $<${is-x64}:v8/src/diagnostics/x64/unwinder-x64.cc>
   $<${is-x64}:v8/src/execution/x64/frame-constants-x64.cc>
   $<${is-x64}:v8/src/regexp/x64/regexp-macro-assembler-x64.cc>
   $<${is-arm64}:v8/src/codegen/arm64/assembler-arm64.cc>
@@ -361,6 +423,7 @@ add_library(v8_base_without_compiler STATIC
   $<${is-arm64}:v8/src/deoptimizer/arm64/deoptimizer-arm64.cc>
   $<${is-arm64}:v8/src/diagnostics/arm64/disasm-arm64.cc>
   $<${is-arm64}:v8/src/diagnostics/arm64/eh-frame-arm64.cc>
+  $<${is-arm64}:v8/src/diagnostics/arm64/unwinder-arm64.cc>
   $<${is-arm64}:v8/src/execution/arm64/frame-constants-arm64.cc>
   $<${is-arm64}:v8/src/regexp/arm64/regexp-macro-assembler-arm64.cc>
   $<$<AND:${is-ppc},${is-ppc64}>:v8/src/codegen/ppc/assembler-ppc.cc>
@@ -422,7 +485,7 @@ add_library(v8_base_without_compiler STATIC
   ${regexp-sources}
   v8/src/roots/roots.cc
   ${runtime-sources}
-  v8/src/base/sanitizer/lsan-page-allocator.cc
+  ${runtime-sources}
   ${snapshot-sources}
   ${strings-sources}
   v8/src/tasks/cancelable-task.cc
@@ -466,9 +529,7 @@ set_property(SOURCE v8/src/diagnostics/unwinding-info-win64.cc
 
 target_compile_definitions(v8_base_without_compiler PRIVATE ${v8_defines} $<${is-msvc}:_HAS_EXCEPTIONS=0>)
 target_compile_options(v8_base_without_compiler PRIVATE ${disable-exceptions})
-if(enable-fPIC)
-  target_compile_options(v8_base_without_compiler PRIVATE ${enable-fpic})
-endif()
+
 
 target_include_directories(v8_base_without_compiler
   PRIVATE
@@ -496,15 +557,26 @@ file(GLOB_RECURSE compiler-sources
   RELATIVE ${PROJECT_SOURCE_DIR}
   CONFIGURE_DEPENDS v8/src/compiler/*.cc
 )
+add_library(v8_deopt_proper OBJECT v8/src/deoptimizer/deoptimizer-cfi-builtins.cc)
+target_include_directories(v8_deopt_proper PRIVATE ${PROJECT_SOURCE_DIR}/v8)
+target_compile_definitions(v8_deopt_proper PRIVATE ${v8_defines} $<${is-msvc}:_HAS_EXCEPTIONS=0>)
+target_compile_options(v8_deopt_proper PRIVATE ${disable-exceptions})
+target_link_libraries(v8_deopt_proper PRIVATE v8-bytecodes-builtin-list v8_torque_generated)
+
+add_library(v8_deopt_dummy OBJECT v8/src/deoptimizer/deoptimizer-cfi-empty.cc)
+target_include_directories(v8_deopt_dummy PRIVATE ${PROJECT_SOURCE_DIR}/v8)
+target_compile_definitions(v8_deopt_dummy PRIVATE ${v8_defines} $<${is-msvc}:_HAS_EXCEPTIONS=0>)
+target_compile_options(v8_deopt_dummy PRIVATE ${disable-exceptions})
+target_link_libraries(v8_deopt_dummy PRIVATE v8-bytecodes-builtin-list v8_torque_generated)
+
 list(FILTER compiler-sources EXCLUDE REGEX ".*backend/.*/.*[.]cc$")
+list(FILTER compiler-sources EXCLUDE REGEX "turbofan-disabled.cc$")
 
-add_library(v8_compiler STATIC)
+add_library(v8_compiler OBJECT)
 target_sources(v8_compiler PRIVATE ${compiler-sources})
 target_compile_definitions(v8_compiler PRIVATE ${v8_defines} $<${is-msvc}:_HAS_EXCEPTIONS=0>)
 target_compile_options(v8_compiler PRIVATE ${disable-exceptions})
-if(enable-fPIC)
-  target_compile_options(v8_compiler PRIVATE ${enable-fpic})
-endif()
+
 
 target_include_directories(v8_compiler
   PUBLIC
@@ -529,7 +601,7 @@ target_link_libraries(v8_compiler
 #
 
 add_library(
-  v8_initializers STATIC
+  v8_initializers OBJECT
   $<${is-arm64}:v8/src/builtins/arm64/builtins-arm64.cc>
   $<${is-arm}:v8/src/builtins/arm/builtins-arm.cc>
   $<${is-ia32}:v8/src/builtins/ia32/builtins-ia32.cc>
@@ -564,14 +636,13 @@ add_library(
   v8/src/builtins/builtins-promise-gen.cc
   v8/src/builtins/builtins-proxy-gen.cc
   v8/src/builtins/builtins-regexp-gen.cc
+  v8/src/builtins/builtins-shadow-realm-gen.cc
   v8/src/builtins/builtins-sharedarraybuffer-gen.cc
   v8/src/builtins/builtins-string-gen.cc
+  v8/src/builtins/builtins-temporal-gen.cc
   v8/src/builtins/builtins-typed-array-gen.cc
   v8/src/builtins/builtins-wasm-gen.cc
   v8/src/builtins/growable-fixed-array-gen.cc
-  v8/src/builtins/setup-builtins-internal.cc
-  v8/src/codegen/code-stub-assembler.cc
-  v8/src/heap/setup-heap-internal.cc
   v8/src/ic/accessor-assembler.cc
   v8/src/ic/binary-op-assembler.cc
   v8/src/ic/keyed-store-generic.cc
@@ -583,9 +654,7 @@ add_library(
 
 target_compile_definitions(v8_initializers PRIVATE ${v8_defines} $<${is-msvc}:_HAS_EXCEPTIONS=0>)
 target_compile_options(v8_initializers PRIVATE ${disable-exceptions})
-if(enable-fPIC)
-  target_compile_options(v8_initializers PRIVATE ${enable-fpic})
-endif()
+
 
 target_include_directories(v8_initializers
   PRIVATE
@@ -593,7 +662,7 @@ target_include_directories(v8_initializers
     ${PROJECT_BINARY_DIR}
 )
 
-target_link_libraries(v8_initializers PRIVATE v8_torque_generated v8-bytecodes-builtin-list)
+target_link_libraries(v8_initializers PRIVATE v8_torque_generated v8-bytecodes-builtin-list v8_libbase)
 
 #
 # v8_snapshot
@@ -602,26 +671,70 @@ target_link_libraries(v8_initializers PRIVATE v8_torque_generated v8-bytecodes-b
 # Note: v8_use_external_startup_data not currently supported.
 # Note: v8_use_multi_snapshots not currently supported.
 add_library(
-  v8_snapshot STATIC
+  v8_snapshot OBJECT
   ${PROJECT_BINARY_DIR}/embedded.S
   ${PROJECT_BINARY_DIR}/snapshot.cc
   v8/src/init/setup-isolate-deserialize.cc
 )
 
-target_compile_definitions(v8_snapshot PRIVATE $<${is-msvc}:_HAS_EXCEPTIONS=0>)
+target_compile_definitions(v8_snapshot PRIVATE ${v8_defines} $<${is-msvc}:_HAS_EXCEPTIONS=0>)
 target_compile_options(v8_snapshot PRIVATE ${disable-exceptions})
-if(enable-fPIC)
-  target_compile_options(v8_snapshot PRIVATE ${enable-fpic})
-endif()
+
 target_include_directories(v8_snapshot PRIVATE ${PROJECT_SOURCE_DIR}/v8)
 
 target_link_libraries(v8_snapshot
   PRIVATE
     v8_torque_generated
     v8-bytecodes-builtin-list
+    v8_libbase
 )
 
 # Note: allow passing in v8_random_seed
+file(WRITE ${PROJECT_BINARY_DIR}/patch_embedded.py
+"import sys
+import os
+
+path = sys.argv[1]
+if not os.path.exists(path):
+    print(f'File not found: {path}')
+    sys.exit(1)
+
+with open(path, 'r') as f:
+    text = f.read()
+
+labels = [
+    'construct_stub_create_deopt_addr',
+    'construct_stub_invoke_deopt_addr',
+    'deoptimization_entry_eager_addr',
+    'deoptimization_entry_lazy_addr',
+    'Builtins_ContinueToCodeStubBuiltinWithResult',
+    'Builtins_ContinueToCodeStubBuiltin',
+    'Builtins_ContinueToJavaScriptBuiltin',
+    'Builtins_InterpreterEnterAtBytecode',
+    'Builtins_BaselineOrInterpreterEnterAtBytecode',
+    'Builtins_RestartFrameTrampoline',
+    'Builtins_InterpreterEnterAtNextBytecode',
+    'Builtins_ContinueToJavaScriptBuiltinWithResult',
+    'Builtins_BaselineOrInterpreterEnterAtNextBytecode'
+]
+
+for label in labels:
+    if os.name == 'nt':
+        pattern = label + ' LABEL BYTE'
+        if pattern in text:
+            replacement = 'PUBLIC ' + label + '\\n' + label + ' LABEL BYTE'
+            text = text.replace(pattern, replacement)
+    else:
+        pattern = label + ':'
+        if pattern in text:
+            # Avoid double patching if run multiple times, though file is overwritten
+            replacement = '.globl ' + label + '\\n' + label + ':'
+            text = text.replace(pattern, replacement)
+
+with open(path, 'w') as f:
+    f.write(text)
+")
+
 add_custom_command(
   COMMAND
     mksnapshot
@@ -635,6 +748,7 @@ add_custom_command(
     $<$<PLATFORM_ID:Linux>:--target_os=linux>
     $<$<PLATFORM_ID:Windows>:--target_os=win>
     --turbo_instruction_scheduling
+  COMMAND ${Python3_EXECUTABLE} ${PROJECT_BINARY_DIR}/patch_embedded.py ${PROJECT_BINARY_DIR}/embedded.S
   DEPENDS
     mksnapshot
   OUTPUT
@@ -688,8 +802,9 @@ file(GLOB inspector-protocol-sources
 
 list(FILTER inspector-protocol-sources EXCLUDE REGEX "_test[.]cc$")
 list(FILTER inspector-protocol-sources EXCLUDE REGEX "crdtp/test_.*[.]cc$")
+list(FILTER inspector-protocol-sources EXCLUDE REGEX "status_test_support[.]cc$")
 
-add_library(v8_inspector STATIC
+add_library(v8_inspector OBJECT
   ${inspector-protocol-sources}
   ${inspector-sources}
   ${inspector_files}
@@ -697,9 +812,7 @@ add_library(v8_inspector STATIC
 
 target_compile_features(v8_inspector PUBLIC cxx_std_17)
 target_compile_options(v8_inspector PRIVATE ${disable-exceptions})
-if(enable-fPIC)
-  target_compile_options(v8_inspector PRIVATE ${enable-fpic})
-endif()
+
 target_compile_definitions(v8_inspector PUBLIC $<${is-msvc}:_HAS_EXCEPTIONS=0>)
 
 target_include_directories(v8_inspector
@@ -711,7 +824,7 @@ target_include_directories(v8_inspector
     ${PROJECT_SOURCE_DIR}/v8/third_party/googletest/src/googletest/include
 )
 
-target_link_libraries(v8_inspector PRIVATE v8_torque_generated)
+target_link_libraries(v8_inspector PRIVATE v8_torque_generated v8_libbase)
 
 file(GLOB inspector-templates
   RELATIVE ${PROJECT_SOURCE_DIR}
@@ -745,69 +858,13 @@ add_custom_command(
     ${inspector_files}
 )
 
-#
-# v8_libplatform
-#
-
-add_library(v8_libplatform STATIC)
-target_sources(v8_libplatform
-  PRIVATE
-    $<${is-win}:v8/src/libplatform/tracing/recorder-win.cc>
-    v8/src/libplatform/default-foreground-task-runner.cc
-    v8/src/libplatform/default-job.cc
-    v8/src/libplatform/default-platform.cc
-    v8/src/libplatform/default-thread-isolated-allocator.cc
-    v8/src/libplatform/default-worker-threads-task-runner.cc
-    v8/src/libplatform/delayed-task-queue.cc
-    v8/src/libplatform/task-queue.cc
-    v8/src/libplatform/tracing/trace-buffer.cc
-    v8/src/libplatform/tracing/trace-config.cc
-    v8/src/libplatform/tracing/trace-object.cc
-    v8/src/libplatform/tracing/trace-writer.cc
-    v8/src/libplatform/tracing/tracing-controller.cc
-    v8/src/libplatform/worker-thread.cc
-)
-
-target_compile_definitions(v8_libplatform PRIVATE $<${is-msvc}:_HAS_EXCEPTIONS=0>)
-target_compile_options(v8_libplatform PRIVATE ${disable-exceptions})
-if(enable-fPIC)
-  target_compile_options(v8_libplatform PRIVATE ${enable-fpic})
-endif()
-
-target_include_directories(v8_libplatform
-  PUBLIC
-    ${PROJECT_SOURCE_DIR}/v8/include
-  PRIVATE
-    ${PROJECT_SOURCE_DIR}/v8
-)
-
-target_link_libraries(v8_libplatform PRIVATE v8_libbase)
-
-#
-# v8_libsampler
-#
-
-add_library(v8_libsampler STATIC v8/src/libsampler/sampler.cc)
-
-target_include_directories(v8_libsampler
-  PRIVATE
-    ${PROJECT_SOURCE_DIR}/v8
-    ${PROJECT_SOURCE_DIR}/v8/include
-)
-
-target_compile_definitions(v8_libsampler PRIVATE $<${is-msvc}:_HAS_EXCEPTIONS=0>)
-target_compile_options(v8_libsampler PRIVATE ${disable-exceptions})
-if(enable-fPIC)
-  target_compile_options(v8_libsampler PRIVATE ${enable-fpic})
-endif()
-target_include_directories(v8_libsampler PRIVATE ${PROJECT_SOURCE_DIR}/v8)
-target_link_libraries(v8_libsampler PRIVATE v8_libbase)
-
 #
 # v8_libbase
 #
 
-add_library(v8_libbase STATIC
+add_library(v8_libbase ${V8_COMPONENT_TYPE}
+  ${base-numbers-sources}
+  v8/src/base/sanitizer/lsan-page-allocator.cc
   v8/src/base/bits.cc
   v8/src/base/bounded-page-allocator.cc
   v8/src/base/cpu.cc
@@ -847,10 +904,12 @@ set_property(SOURCE v8/src/base/utils/random-number-generator.cc
 )
 
 target_compile_definitions(v8_libbase PRIVATE $<${is-win}:UNICODE> $<${is-msvc}:_HAS_EXCEPTIONS=0>)
-target_compile_options(v8_libbase PRIVATE ${disable-exceptions})
-if(enable-fPIC)
-  target_compile_options(v8_libbase PRIVATE ${enable-fpic})
+if(V8_BUILD_SHARED)
+    target_compile_definitions(v8_libbase PRIVATE BUILDING_V8_BASE_SHARED)
+    target_compile_definitions(v8_libbase INTERFACE USING_V8_BASE_SHARED)
 endif()
+target_compile_options(v8_libbase PRIVATE ${disable-exceptions})
+
 target_include_directories(v8_libbase PRIVATE ${PROJECT_SOURCE_DIR}/v8)
 target_link_libraries(v8_libbase
   PRIVATE
@@ -861,6 +920,70 @@ target_link_libraries(v8_libbase
     $<${is-win}:dbghelp>
 )
 
+
+#
+# v8_libsampler
+#
+
+add_library(v8_libsampler OBJECT v8/src/libsampler/sampler.cc)
+
+target_include_directories(v8_libsampler
+  PRIVATE
+    ${PROJECT_SOURCE_DIR}/v8
+    ${PROJECT_SOURCE_DIR}/v8/include
+)
+
+target_compile_definitions(v8_libsampler PRIVATE $<${is-msvc}:_HAS_EXCEPTIONS=0>)
+if(V8_BUILD_SHARED)
+    target_compile_definitions(v8_libsampler PRIVATE BUILDING_V8_SHARED)
+endif()
+target_compile_options(v8_libsampler PRIVATE ${disable-exceptions})
+
+target_include_directories(v8_libsampler PRIVATE ${PROJECT_SOURCE_DIR}/v8)
+target_link_libraries(v8_libsampler PRIVATE v8_libbase)
+
+#
+# v8_libplatform
+#
+
+add_library(v8_libplatform ${V8_COMPONENT_TYPE})
+target_sources(v8_libplatform
+  PRIVATE
+    $<${is-win}:v8/src/libplatform/tracing/recorder-win.cc>
+    v8/src/libplatform/default-foreground-task-runner.cc
+    v8/src/libplatform/default-job.cc
+    v8/src/libplatform/default-platform.cc
+    v8/src/libplatform/default-thread-isolated-allocator.cc
+    v8/src/libplatform/default-worker-threads-task-runner.cc
+    v8/src/libplatform/delayed-task-queue.cc
+    v8/src/libplatform/task-queue.cc
+    v8/src/libplatform/tracing/trace-buffer.cc
+    v8/src/libplatform/tracing/trace-config.cc
+    v8/src/libplatform/tracing/trace-object.cc
+    v8/src/libplatform/tracing/trace-writer.cc
+    v8/src/libplatform/tracing/tracing-controller.cc
+    v8/src/libplatform/worker-thread.cc
+)
+
+target_compile_definitions(v8_libplatform PRIVATE $<${is-msvc}:_HAS_EXCEPTIONS=0>)
+if(V8_BUILD_SHARED)
+    target_compile_definitions(v8_libplatform PRIVATE BUILDING_V8_PLATFORM_SHARED)
+    target_compile_definitions(v8_libplatform INTERFACE USING_V8_PLATFORM_SHARED)
+endif()
+target_compile_options(v8_libplatform PRIVATE ${disable-exceptions})
+
+
+target_include_directories(v8_libplatform
+  PUBLIC
+    $<BUILD_INTERFACE:${PROJECT_SOURCE_DIR}/v8/include>
+    $<INSTALL_INTERFACE:${CMAKE_INSTALL_INCLUDEDIR}>
+  PRIVATE
+    ${PROJECT_SOURCE_DIR}/v8
+)
+
+target_link_libraries(v8_libplatform PRIVATE v8_libbase)
+
+
 #
 # bytecode_builtins_list_generator
 #
@@ -953,6 +1076,7 @@ set(torque_outputs
   ${PROJECT_BINARY_DIR}/torque-generated/objects-body-descriptors-tq-inl.inc
   ${PROJECT_BINARY_DIR}/torque-generated/objects-printer-tq.cc
   ${PROJECT_BINARY_DIR}/torque-generated/objects-printer.cc
+  ${PROJECT_BINARY_DIR}/torque-generated/debug-macros.cc
 )
 
 list(TRANSFORM torque_files
@@ -976,17 +1100,15 @@ endforeach()
 list(REMOVE_DUPLICATES torque_dirs)
 
 add_library(
-  v8_torque_generated STATIC
+  v8_torque_generated OBJECT
   ${torque-outputs}
   ${torque_outputs}
 )
 
 target_compile_definitions(v8_torque_generated PRIVATE $<${is-msvc}:_HAS_EXCEPTIONS=0>)
 target_compile_options(v8_torque_generated PRIVATE ${disable-exceptions})
-if(enable-fPIC)
-  target_compile_options(v8_torque_generated PRIVATE ${enable-fpic})
-endif()
-target_link_libraries(v8_torque_generated PRIVATE v8-bytecodes-builtin-list)
+
+target_link_libraries(v8_torque_generated PRIVATE v8-bytecodes-builtin-list v8_libbase)
 
 target_include_directories(v8_torque_generated
   PUBLIC
@@ -997,7 +1119,7 @@ target_include_directories(v8_torque_generated
 
 # The torque-outputs and torque_outputs variables can have too many characters
 # on Windows to be executed on the command line, so we have to write it to a
-# temporary file and execute that 
+# temporary file and execute that
 file(WRITE "${PROJECT_BINARY_DIR}/touch_torque_outputs.cmake"
            "file(TOUCH ${torque-outputs};${torque_outputs})")
 
@@ -1057,18 +1179,20 @@ add_executable(mksnapshot
   v8/src/snapshot/snapshot-empty.cc
 )
 
-target_compile_definitions(mksnapshot PRIVATE $<${is-msvc}:_HAS_EXCEPTIONS=0>)
+target_compile_definitions(mksnapshot PRIVATE ${v8_defines} $<${is-msvc}:_HAS_EXCEPTIONS=0>)
 target_compile_options(mksnapshot PRIVATE ${disable-exceptions})
 target_include_directories(mksnapshot PRIVATE ${PROJECT_SOURCE_DIR}/v8)
 target_link_libraries(mksnapshot
   PRIVATE
     v8_libbase
     v8_libplatform
+    v8_libsampler
     v8_base_without_compiler
     v8_compiler
     v8_initializers
     v8-bytecodes-builtin-list
     v8_torque_generated
+    v8_deopt_dummy
 )
 
 add_library(v8-adler32 OBJECT v8/third_party/zlib/adler32.c)
@@ -1076,3 +1200,162 @@ target_include_directories(v8-adler32
   PUBLIC
     $<BUILD_INTERFACE:${PROJECT_SOURCE_DIR}/v8/third_party/zlib>
 )
+
+
+
+# Final V8 Target & Installation
+
+if(V8_MONOLITHIC)
+    # --- Monolithic Build ---
+    # Merge all components into a single library 'v8'.
+
+    set(V8_OBJECT_LIBS
+        v8_base_without_compiler
+        v8_compiler
+        v8_snapshot
+        v8_inspector
+        v8_initializers
+        v8_torque_generated
+        v8_deopt_proper
+        v8_libbase
+        v8_libplatform
+        v8_libsampler
+    )
+
+    if (V8_BUILD_SHARED)
+        set(v8_lib_type SHARED)
+        file(WRITE ${CMAKE_BINARY_DIR}/v8_dll_dummy.cpp "void v8_dll_dummy() {}")
+        set(v8_monolith_sources ${CMAKE_BINARY_DIR}/v8_dll_dummy.cpp)
+    else()
+        set(v8_lib_type STATIC)
+        # For static library, just listing object libs as sources works to bundle them.
+        set(v8_monolith_sources "")
+    endif()
+
+    add_library(v8 ${v8_lib_type} ${v8_monolith_sources})
+
+    # Bundle object libraries
+    foreach(obj_lib ${V8_OBJECT_LIBS})
+        if(TARGET ${obj_lib})
+            target_sources(v8 PRIVATE $<TARGET_OBJECTS:${obj_lib}>)
+        endif()
+    endforeach()
+
+    # Shared Build specific defines and linking
+    if(V8_BUILD_SHARED)
+         foreach(component ${V8_OBJECT_LIBS})
+            if(TARGET ${component})
+                target_compile_definitions(${component} PRIVATE BUILDING_V8_SHARED BUILDING_V8_PLATFORM_SHARED BUILDING_V8_BASE_SHARED)
+            endif()
+        endforeach()
+        target_compile_definitions(v8 INTERFACE USING_V8_SHARED USING_V8_PLATFORM_SHARED USING_V8_BASE_SHARED)
+
+        if(WIN32)
+             # Prevent linker discarding symbols if necessary (shared monolith usually fine)
+             target_link_libraries(v8 PRIVATE winmm dbghelp shlwapi)
+        else()
+             # Linux might need --whole-archive if we were linking static libs, but here we bundled objects.
+             # However, link dependencies (pthread, dl) need to be propagated.
+        endif()
+    endif()
+
+    # Propagate usage requirements (includes, defines, link libs like threads) from ALL components
+    foreach(obj_lib ${V8_OBJECT_LIBS})
+        if(TARGET ${obj_lib})
+            target_link_libraries(v8 PRIVATE ${obj_lib})
+        endif()
+    endforeach()
+
+    set_target_properties(v8 PROPERTIES OUTPUT_NAME "v8")
+
+    install(TARGETS v8 EXPORT v8Targets
+        RUNTIME DESTINATION bin
+        LIBRARY DESTINATION lib
+        ARCHIVE DESTINATION lib
+    )
+
+else()
+    # --- Component Build ---
+    # 'v8' is just an interface or shared wrapper linking to components.
+    # Components (libbase, libplatform) are real libraries (SHARED or STATIC).
+    # Core components (base_without_compiler etc) are still OBJECT libs mostly.
+
+    # We need to install the real libraries we built (base, platform, sampler).
+    install(TARGETS v8_libbase v8_libplatform EXPORT v8Targets
+        RUNTIME DESTINATION bin
+        LIBRARY DESTINATION lib
+        ARCHIVE DESTINATION lib
+    )
+
+    # For the core parts (v8_base_without_compiler etc), usually 'libv8' encapsulates them.
+    # In Component build, 'libv8' should exist and contain the core logic, linking to libbase/platform.
+
+    set(V8_CORE_OBJECTS
+        v8_base_without_compiler
+        v8_compiler
+        v8_snapshot
+        v8_inspector
+        v8_initializers
+        v8_torque_generated
+        v8_deopt_proper
+        v8_libsampler
+    )
+
+    if (V8_BUILD_SHARED)
+         add_library(v8 SHARED)
+         foreach(component ${V8_CORE_OBJECTS})
+            target_compile_definitions(${component} PRIVATE BUILDING_V8_SHARED)
+         endforeach()
+    else()
+         add_library(v8 STATIC)
+    endif()
+
+    foreach(obj_lib ${V8_CORE_OBJECTS})
+        target_sources(v8 PRIVATE $<TARGET_OBJECTS:${obj_lib}>)
+        target_link_libraries(v8 PRIVATE ${obj_lib})
+    endforeach()
+
+    # Link to the *separate* components
+    target_link_libraries(v8 PUBLIC v8_libbase v8_libplatform)
+
+    if(V8_BUILD_SHARED)
+         target_compile_definitions(v8 INTERFACE USING_V8_SHARED)
+         # Note: Platform/Base might have their own export defines.
+         # For simplicity, if everything is shared, we usually use the same set of defines or specific ones.
+         # But in true component build, v8_libbase has V8_BASE_EXPORT etc.
+    endif()
+
+    install(TARGETS v8 EXPORT v8Targets
+        RUNTIME DESTINATION bin
+        LIBRARY DESTINATION lib
+        ARCHIVE DESTINATION lib
+    )
+endif()
+
+# Common Install Config
+install(EXPORT v8Targets
+    FILE v8Targets.cmake
+    NAMESPACE v8::
+    DESTINATION lib/cmake/v8
+)
+
+include(CMakePackageConfigHelpers)
+write_basic_package_version_file(
+    "${CMAKE_BINARY_DIR}/v8ConfigVersion.cmake"
+    VERSION 0.0.1
+    COMPATIBILITY AnyNewerVersion
+)
+
+configure_package_config_file(
+    "${PROJECT_SOURCE_DIR}/cmake/v8Config.cmake.in"
+    "${CMAKE_BINARY_DIR}/v8Config.cmake"
+    INSTALL_DESTINATION lib/cmake/v8
+)
+
+install(FILES
+    "${CMAKE_BINARY_DIR}/v8Config.cmake"
+    "${CMAKE_BINARY_DIR}/v8ConfigVersion.cmake"
+    DESTINATION lib/cmake/v8
+)
+
+install(DIRECTORY v8/include/ DESTINATION include FILES_MATCHING PATTERN "*.h")
diff --git a/cmake/v8Config.cmake.in b/cmake/v8Config.cmake.in
new file mode 100644
index 0000000..4fa7b62
--- /dev/null
+++ b/cmake/v8Config.cmake.in
@@ -0,0 +1,5 @@
+@PACKAGE_INIT@
+
+include("${CMAKE_CURRENT_LIST_DIR}/v8Targets.cmake")
+
+check_required_components(V8)
diff --git a/v8/include/v8-fast-api-calls.h b/v8/include/v8-fast-api-calls.h
index e40f106..8a7b147 100644
--- a/v8/include/v8-fast-api-calls.h
+++ b/v8/include/v8-fast-api-calls.h
@@ -779,7 +779,7 @@ struct TypeInfoHelper<const FastOneByteString&> {
 }  // namespace internal
 
 template <typename T, CTypeInfo::Flags... Flags>
-class V8_EXPORT CTypeInfoBuilder {
+class CTypeInfoBuilder {
  public:
   using BaseType = T;
 
diff --git a/v8/include/v8-platform.h b/v8/include/v8-platform.h
index 9811c6e..bbf3df6 100644
--- a/v8/include/v8-platform.h
+++ b/v8/include/v8-platform.h
@@ -14,7 +14,7 @@
 #include <string>
 
 #include "v8-source-location.h"  // NOLINT(build/include_directory)
-#include "v8config.h"  // NOLINT(build/include_directory)
+#include "v8config.h"            // NOLINT(build/include_directory)
 
 namespace v8 {
 
@@ -992,7 +992,7 @@ class HighAllocationThroughputObserver {
  * The embedder has to provide an implementation of this interface before
  * initializing the rest of V8.
  */
-class Platform {
+class V8_EXPORT Platform {
  public:
   virtual ~Platform() = default;
 
@@ -1258,7 +1258,7 @@ class Platform {
    * since epoch. Useful for implementing |CurrentClockTimeMillis| if
    * nothing special needed.
    */
-  V8_EXPORT static double SystemClockTimeMillis();
+  static double SystemClockTimeMillis();
 
   /**
    * Creates and returns a JobHandle associated with a Job.
diff --git a/v8/include/v8-unwinder.h b/v8/include/v8-unwinder.h
index 8b71bb3..8d7f5b2 100644
--- a/v8/include/v8-unwinder.h
+++ b/v8/include/v8-unwinder.h
@@ -10,6 +10,8 @@
 #include "v8-embedder-state-scope.h"  // NOLINT(build/include_directory)
 #include "v8config.h"                 // NOLINT(build/include_directory)
 
+#include "v8-unwinder-state.h"  // NOLINT(build/include_directory)
+
 namespace v8 {
 // Holds the callee saved registers needed for the stack unwinder. It is the
 // empty struct if no registers are required. Implemented in
@@ -18,11 +20,24 @@ struct CalleeSavedRegisters;
 
 // A RegisterState represents the current state of registers used
 // by the sampling profiler API.
-struct V8_EXPORT RegisterState {
-  RegisterState();
-  ~RegisterState();
-  RegisterState(const RegisterState& other);
-  RegisterState& operator=(const RegisterState& other);
+struct RegisterState {
+  RegisterState() : pc(nullptr), sp(nullptr), fp(nullptr), lr(nullptr) {}
+  ~RegisterState() = default;
+  RegisterState(const RegisterState& other) { *this = other; }
+  RegisterState& operator=(const RegisterState& other) {
+    if (&other != this) {
+      pc = other.pc;
+      sp = other.sp;
+      fp = other.fp;
+      lr = other.lr;
+      if (other.callee_saved) {
+        callee_saved = std::make_unique<CalleeSavedRegisters>(*(other.callee_saved));
+      } else {
+        callee_saved.reset();
+      }
+    }
+    return *this;
+  }
 
   void* pc;  // Instruction pointer.
   void* sp;  // Stack pointer.
diff --git a/v8/src/api/api.cc b/v8/src/api/api.cc
index 86585cf..2405594 100644
--- a/v8/src/api/api.cc
+++ b/v8/src/api/api.cc
@@ -11157,30 +11157,6 @@ void FastApiTypedArrayBase::ValidateIndex(size_t index) const {
   DCHECK_LT(index, length_);
 }
 
-RegisterState::RegisterState()
-    : pc(nullptr), sp(nullptr), fp(nullptr), lr(nullptr) {}
-RegisterState::~RegisterState() = default;
-
-RegisterState::RegisterState(const RegisterState& other) { *this = other; }
-
-RegisterState& RegisterState::operator=(const RegisterState& other) {
-  if (&other != this) {
-    pc = other.pc;
-    sp = other.sp;
-    fp = other.fp;
-    lr = other.lr;
-    if (other.callee_saved) {
-      // Make a deep copy if {other.callee_saved} is non-null.
-      callee_saved =
-          std::make_unique<CalleeSavedRegisters>(*(other.callee_saved));
-    } else {
-      // Otherwise, set {callee_saved} to null to match {other}.
-      callee_saved.reset();
-    }
-  }
-  return *this;
-}
-
 #if !V8_ENABLE_WEBASSEMBLY
 // If WebAssembly is disabled, we still need to provide an implementation of the
 // WasmStreaming API. Since {WasmStreaming::Unpack} will always fail, all
diff --git a/v8/src/base/contextual.h b/v8/src/base/contextual.h
index 3b81c50..02a8042 100644
--- a/v8/src/base/contextual.h
+++ b/v8/src/base/contextual.h
@@ -24,7 +24,7 @@ namespace v8::base {
 // Note that contextual variables must only be used from the same thread,
 // i.e. {Scope} and Get() have to be in the same thread.
 template <class Derived, class VarType>
-class V8_EXPORT_PRIVATE ContextualVariable {
+class ContextualVariable {
  public:
   using VarT = VarType;
 
diff --git a/v8/src/base/division-by-constant.cc b/v8/src/base/division-by-constant.cc
index fbc3646..9102569 100644
--- a/v8/src/base/division-by-constant.cc
+++ b/v8/src/base/division-by-constant.cc
@@ -89,7 +89,6 @@ MagicNumbersForDivision<T> UnsignedDivisionByConstant(T d,
   return MagicNumbersForDivision<T>(q2 + 1, p - bits, a);
 }
 
-
 // -----------------------------------------------------------------------------
 // Instantiations.
 
@@ -97,6 +96,10 @@ template struct EXPORT_TEMPLATE_DEFINE(V8_BASE_EXPORT)
     MagicNumbersForDivision<uint32_t>;
 template struct EXPORT_TEMPLATE_DEFINE(V8_BASE_EXPORT)
     MagicNumbersForDivision<uint64_t>;
+template struct EXPORT_TEMPLATE_DEFINE(V8_BASE_EXPORT)
+    MagicNumbersForDivision<int32_t>;
+template struct EXPORT_TEMPLATE_DEFINE(V8_BASE_EXPORT)
+    MagicNumbersForDivision<int64_t>;
 
 template EXPORT_TEMPLATE_DEFINE(V8_BASE_EXPORT)
     MagicNumbersForDivision<uint32_t> SignedDivisionByConstant(uint32_t d);
diff --git a/v8/src/inspector/string-16.h b/v8/src/inspector/string-16.h
index 1678ffb..945032d 100644
--- a/v8/src/inspector/string-16.h
+++ b/v8/src/inspector/string-16.h
@@ -13,6 +13,7 @@
 #include <string>
 #include <utility>
 #include <vector>
+#include "src/inspector/v8-string-conversions.h"
 
 #include "src/base/compiler-specific.h"
 
diff --git a/v8/src/inspector/v8-string-conversions.h b/v8/src/inspector/v8-string-conversions.h
index eb33c68..83d235b 100644
--- a/v8/src/inspector/v8-string-conversions.h
+++ b/v8/src/inspector/v8-string-conversions.h
@@ -5,8 +5,53 @@
 #ifndef V8_INSPECTOR_V8_STRING_CONVERSIONS_H_
 #define V8_INSPECTOR_V8_STRING_CONVERSIONS_H_
 
+#include <cstring>
 #include <cstdint>
 #include <string>
+namespace std {
+template<> struct char_traits<uint16_t> {
+  using char_type = uint16_t;
+  using int_type = uint32_t;
+  using off_type = std::streamoff;
+  using pos_type = std::streampos;
+  using state_type = std::mbstate_t;
+  static void assign(char_type& c, const char_type& d) { c = d; }
+  static bool eq(char_type c1, char_type c2) { return c1 == c2; }
+  static bool lt(char_type c1, char_type c2) { return c1 < c2; }
+  static int compare(const char_type* s1, const char_type* s2, size_t n) {
+    for (size_t i = 0; i < n; i++) {
+      if (s1[i] < s2[i]) return -1;
+      if (s1[i] > s2[i]) return 1;
+    }
+    return 0;
+  }
+  static size_t length(const char_type* s) {
+    size_t i = 0;
+    while (s[i] != 0) i++;
+    return i;
+  }
+  static const char_type* find(const char_type* s, size_t n, const char_type& a) {
+    for (size_t i = 0; i < n; i++) if (s[i] == a) return s + i;
+    return nullptr;
+  }
+  static char_type* move(char_type* s1, const char_type* s2, size_t n) {
+    return static_cast<char_type*>(memmove(s1, s2, n * sizeof(char_type)));
+  }
+  static char_type* copy(char_type* s1, const char_type* s2, size_t n) {
+    return static_cast<char_type*>(memcpy(s1, s2, n * sizeof(char_type)));
+  }
+  static char_type* assign(char_type* s, size_t n, char_type a) {
+    for (size_t i = 0; i < n; i++) s[i] = a;
+    return s;
+  }
+  static int_type not_eof(int_type c) { return c; }
+  static char_type to_char_type(int_type c) { return static_cast<char_type>(c); }
+  static int_type to_int_type(char_type c) { return c; }
+  static bool eq_int_type(int_type c1, int_type c2) { return c1 == c2; }
+  static int_type eof() { return 0xFFFFFFFF; }
+};
+}
+
 
 // Conversion routines between UT8 and UTF16, used by string-16.{h,cc}. You may
 // want to use string-16.h directly rather than these.
